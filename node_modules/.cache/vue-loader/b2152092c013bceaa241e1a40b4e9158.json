{"remainingRequest":"D:\\HBuliderX_project\\studentAnlysis\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HBuliderX_project\\studentAnlysis\\src\\pages\\person_analysis\\personal.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\HBuliderX_project\\studentAnlysis\\src\\pages\\person_analysis\\personal.vue","mtime":1584932903995},{"path":"D:\\HBuliderX_project\\studentAnlysis\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\HBuliderX_project\\studentAnlysis\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\HBuliderX_project\\studentAnlysis\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\HBuliderX_project\\studentAnlysis\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport wordcloudindex from './wordcloud1.js'\nimport {\n\tLoading\n} from 'element-ui';\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tstuForm: {\n\t\t\t\tstuid: ''\n\t\t\t},\n\t\t\tcalendarData: [\n\t\t\t                    { months: ['09', '11'],days: ['15'],year:['2019'],things: '迟到' },\n\t\t\t                    { months: ['11'], days: ['20'],things: '缺勤' }\n\t\t\t                ],\n\t\t\t                datevalue: new Date(),\n\t\t\t activities: [{\n\t\t\t          content: '活动按期开始',\n\t\t\t          timestamp: '2018-04-15'\n\t\t\t        }, {\n\t\t\t          content: '通过审核',\n\t\t\t          timestamp: '2018-04-13'\n\t\t\t        }, {\n\t\t\t          content: '创建成功',\n\t\t\t          timestamp: '2018-04-11'\n\t\t\t}],\n\t\t\tlabelPosition: 'top',\n\t\t\twordcloud: {\n\t\t\t\tstopwd: '',\n\t\t\t\tuserdict: ''\n\t\t\t},\n\t\t\tflag: 3,\n\t\t\tstudentscore: {\n\t\t\t\tavg: '无',\n\t\t\t\tcredit: '无',\n\t\t\t\tavgcreditjd: '无',\n\t\t\t\tmoral: '无',\n\t\t\t\tknowledge: '无',\n\t\t\t\tsports: '无',\n\t\t\t\ttop1: {\n\t\t\t\t\tname: '无',\n\t\t\t\t\tscore: '无'\n\t\t\t\t},\n\t\t\t\ttop2: {\n\t\t\t\t\tname: '无',\n\t\t\t\t\tscore: '无'\n\t\t\t\t},\n\t\t\t\ttop3: {\n\t\t\t\t\tname: '无',\n\t\t\t\t\tscore: '无'\n\t\t\t\t},\n\t\t\t\ttopscore: '无',\n\t\t\t\tsorted: '无',\n\t\t\t\tfails: '无'\n\n\t\t\t},\n\t\t\tmks: [],\n\t\t\tsavemsg: '保存',\n\t\t\timagePathPrefix: 'http://192.168.184.1:5000/',\n\t\t\timagePath: 'static/blank.png',\n\t\t\tsearchinput: '',\n\t\t\tstuadvices: [], //搜索建议列表\n\t\t\tstate: '', //搜索框值\n\t\t\ttimeout: null,\n\t\t\tdrawer: false,\n\t\t\tdirection: 'ltr',\n\t\t\tactiveName: 'stuscore',\n\t\t\toptions: [{\n\t\t\t\t\tvalue: '0',\n\t\t\t\t\tlabel: '请选择学期'\n\t\t\t\t}, {\n\t\t\t\t\tvalue: '2017-2018',\n\t\t\t\t\tlabel: '2017-2018'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: '2018-2019',\n\t\t\t\t\tlabel: '2018-2019'\n\t\t\t\t}\n\t\t\t],\n\t\t\tvalue: '2018-2019',\n\t\t\ttableData: [{\n\t\t\t\tkey: '学号',\n\t\t\t\tvalue: '暂无数据'\n\t\t\t}, {\n\t\t\t\tkey: '姓名',\n\t\t\t\tvalue: '暂无数据'\n\t\t\t}, {\n\t\t\t\tkey: '性别',\n\t\t\t\tvalue: '暂无数据'\n\t\t\t}, {\n\t\t\t\tkey: '年级',\n\t\t\t\tvalue: '暂无数据'\n\t\t\t}, {\n\t\t\t\tkey: '专业',\n\t\t\t\tvalue: '暂无数据'\n\t\t\t}, {\n\t\t\t\tkey: '班级',\n\t\t\t\tvalue: '暂无数据'\n\t\t\t}, {\n\t\t\t\tkey: '民族',\n\t\t\t\tvalue: '暂无数据'\n\t\t\t}, {\n\t\t\t\tkey: '政治面貌',\n\t\t\t\tvalue: '暂无数据'\n\t\t\t}, {\n\t\t\t\tkey: '家庭住址',\n\t\t\t\tvalue: '暂无数据'\n\t\t\t}, {\n\t\t\t\tkey: '出生日期',\n\t\t\t\tvalue: '暂无数据',\n\t\t\t}, {\n\t\t\t\tkey: '寝室',\n\t\t\t\tvalue: '暂无数据'\n\t\t\t}, {\n\t\t\t\tkey: '学生类型',\n\t\t\t\tvalue: '暂无数据'\n\t\t\t}]\n\n\t\t}\n\t},\n\tmethods: {\n\t\tonSubmitPerson() {\n\t\t\tlet sno = this.state;\n\t\t\tlet flag = true;\n\t\t\tif (sno.match(/^[0-9]*$/)) {\n\t\t\t\tlet loadingInstance = Loading.service({\n\t\t\t\t\tfullscreen: true\n\t\t\t\t});\n\t\t\t\tthis.$http.get(\"stuAnalysis/searchstu/\" + sno)\n\t\t\t\t\t.then(({\n\t\t\t\t\t\tdata\n\t\t\t\t\t}) => {\n\t\t\t\t\t\tthis.tableData = [{\n\t\t\t\t\t\t\tkey: '学号',\n\t\t\t\t\t\t\tvalue: data.studentno\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tkey: '姓名',\n\t\t\t\t\t\t\tvalue: data.studentname\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tkey: '性别',\n\t\t\t\t\t\t\tvalue: data.sex\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tkey: '年级',\n\t\t\t\t\t\t\tvalue: data.termyear\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tkey: '专业',\n\t\t\t\t\t\t\tvalue: data.major\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tkey: '班级',\n\t\t\t\t\t\t\tvalue: data.class\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tkey: '民族',\n\t\t\t\t\t\t\tvalue: data.mz\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tkey: '政治面貌',\n\t\t\t\t\t\t\tvalue: data.zzmm\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tkey: '家庭住址',\n\t\t\t\t\t\t\tvalue: data.address\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tkey: '出生日期',\n\t\t\t\t\t\t\tvalue: data.birthday,\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tkey: '寝室',\n\t\t\t\t\t\t\tvalue: data.buildingname + data.roomnum\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tkey: '学生类型',\n\t\t\t\t\t\t\tvalue: data.stutype\n\t\t\t\t\t\t}]\n\n\t\t\t\t\t\tthis.drawMksRadar(this.tableData[0][\"value\"], this.value);\n\t\t\t\t\t\tflag = true;\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\talert(this.$errmsg(err));\n\t\t\t\t\t\tloadingInstance.close();\n\t\t\t\t\t\tthis.tableData = [];\n\t\t\t\t\t\tflag = true;\n\t\t\t\t\t});\n\t\t\t\tthis.$http.get(\"stuAnalysis/stuwordcloud/\" + sno)\n\t\t\t\t\t.then(({\n\t\t\t\t\t\tdata\n\t\t\t\t\t}) => {\n\t\t\t\t\t\tthis.imagePath = data;\n\t\t\t\t\t\tloadingInstance.close();\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\talert(this.$errmsg(err));\n\t\t\t\t\t\tthis.imagePathPrefix = '';\n\t\t\t\t\t\tthis.imagePath = '../../assets/blank.png';\n\t\t\t\t\t});\n\t\t\t\tthis.getStudentScore(sno, '2018-2019');\n\n\n\t\t\t} else {\n\t\t\t\talert(\"请输入学号进行查询\");\n\t\t\t\tloadingInstance.close();\n\t\t\t\tthis.tableData = [];\n\t\t\t}\n\n\n\n\t\t},\n\t\tstubehavior(tab, event) {\n\t\t\tconsole.log(tab.name);\n\t\t\tswitch (tab.name) {\n\t\t\t\tcase \"stuscore\":\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"trend\":\n\t\t\t\t\tthis.drawSorcetrend();\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"reward\":\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"punish\":\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"kq\":\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tchangeTyChart() {\n\n\t\t},\n\t\tquerySearch(queryString, cb) {\n\t\t\tvar stuadvices = this.stuadvices;\n\t\t\tvar results = queryString ? stuadvices.filter(this.createFilter(queryString)) : stuadvices;\n\t\t\t// 调用 callback 返回建议列表的数据\n\t\t\tclearTimeout(this.timeout);\n\t\t\tthis.timeout = setTimeout(() => {\n\t\t\t\tcb(results);\n\t\t\t}, 2000 * Math.random());\n\t\t},\n\t\tcreateFilter(queryString) {\n\t\t\treturn (state) => {\n\t\t\t\treturn (state.name.toLowerCase().indexOf(queryString.toLowerCase()) === 0);\n\t\t\t};\n\t\t},\n\t\thandleSelect(item) {\n\t\t\tconsole.log(item);\n\t\t},\n\t\tdrawerhandleClose(done) {\n\t\t\tthis.$confirm('确认关闭？')\n\t\t\t\t.then(_ => {\n\t\t\t\t\tthis.wordcloud.stopwd = '';\n\t\t\t\t\tthis.wordcloud.userdict = '';\n\t\t\t\t\tdone();\n\t\t\t\t})\n\t\t\t\t.catch(_ => {});\n\n\t\t},\n\t\tsaveWordCloudSettings() {\n\t\t\tthis.flag = 1;\n\t\t\tthis.savemsg = '保存中';\n\t\t\tlet stopwd = this.wordcloud.stopwd;\n\t\t\tlet userdict = this.wordcloud.userdict;\n\t\t\tlet stoplist = stopwd.split(\" \");\n\t\t\tlet userdictlist = userdict.split(\" \");\n\t\t\tif (stoplist.length == 1 && stoplist[0].length == 0) {\n\t\t\t\tthis.flag += 1;\n\t\t\t} else {\n\t\t\t\tthis.$http.put(\"admin/addstopwords\", this.$qs.stringify({\n\t\t\t\t\t\t\"stopwd\": stoplist\n\t\t\t\t\t}, {\n\t\t\t\t\t\tindices: false\n\t\t\t\t\t}))\n\t\t\t\t\t.then(({\n\t\t\t\t\t\tdata\n\t\t\t\t\t}) => {\n\t\t\t\t\t\tthis.addswdmsg = data;\n\t\t\t\t\t\tthis.flag += 1;\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\talert(this.$errmsg(err));\n\t\t\t\t\t\tthis.flag += 1;\n\t\t\t\t\t});\n\t\t\t}\n\t\t\tif (userdictlist.length == 1 && userdictlist[0].length == 0) {\n\t\t\t\tthis.flag += 1;\n\t\t\t} else {\n\t\t\t\tthis.$http.put(\"admin/adduserdict\", this.$qs.stringify({\n\t\t\t\t\t\t\"userdict\": userdictlist\n\t\t\t\t\t}, {\n\t\t\t\t\t\tindices: false\n\t\t\t\t\t}))\n\t\t\t\t\t.then(({\n\t\t\t\t\t\tdata\n\t\t\t\t\t}) => {\n\t\t\t\t\t\tthis.addudtmsg = data;\n\t\t\t\t\t\tthis.flag += 1;\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\talert(this.$errmsg(err));\n\t\t\t\t\t\tthis.flag += 1;\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\t/**\n\t\t * @param {String} sno 学号\n\t\t * @param {String} xuenian 学年\n\t\t * 三育雷达图\n\t\t */\n\t\tdrawMksRadar(sno, xuenian) {\n\t\t\t\n\t\t\tlet myChart = this.$echarts.init(document.getElementById(\"mksradar\"));\n\t\t\tmyChart.showLoading();\n\t\t\tthis.$http.post(\"stuAnalysis/mks/\" + xuenian + \"/\" + sno)\n\t\t\t\t.then(({\n\t\t\t\t\tdata\n\t\t\t\t}) => {\n\t\t\t\t\tthis.mks = [];\n\t\t\t\t\tthis.mks.push(data[\"m\"]);\n\t\t\t\t\tthis.mks.push(data[\"k\"]);\n\t\t\t\t\tthis.mks.push(data[\"s\"]);\n\t\t\t\t\tthis.studentscore.moral = (data['m'] * 25).toFixed(2);\n\t\t\t\t\tthis.studentscore.knowledge = (data['k'] * 70).toFixed(2);\n\t\t\t\t\tthis.studentscore.sports = (data['s'] * 5).toFixed(2);\n\t\t\t\t\tlet option = {\n\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\ttext: '学生综合评价',\n\t\t\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\t\t\tfontSize: 12\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttooltip: {},\n\n\t\t\t\t\t\tradar: {\n\t\t\t\t\t\t\t// shape: 'circle',\n\t\t\t\t\t\t\tname: {\n\t\t\t\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\t\tbackgroundColor: '#999',\n\t\t\t\t\t\t\t\t\tborderRadius: 3,\n\t\t\t\t\t\t\t\t\tpadding: [3, 5]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tindicator: [{\n\t\t\t\t\t\t\t\t\tname: '德育',\n\t\t\t\t\t\t\t\t\tmax: 1\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '智育',\n\t\t\t\t\t\t\t\t\tmax: 1\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '体育',\n\t\t\t\t\t\t\t\t\tmax: 1\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\tseries: [{\n\t\t\t\t\t\t\tname: '三育',\n\t\t\t\t\t\t\ttype: 'radar',\n\t\t\t\t\t\t\tareaStyle: {\n\t\t\t\t\t\t\t\tnormal: {}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdata: [{\n\t\t\t\t\t\t\t\tvalue: this.mks,\n\t\t\t\t\t\t\t\tname: '三育'\n\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t}]\n\t\t\t\t\t};\n\t\t\t\t\tmyChart.hideLoading();\n\t\t\t\t\tmyChart.setOption(option);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tmyChart.hideLoading();\n\t\t\t\t\talert(this.$errmsg(err));\n\t\t\t\t})\n\t\t},\n\t\tdrawBlankRadar() {\n\t\t\tlet myChart = this.$echarts.init(document.getElementById(\"mksradar\"));\n\t\t\tlet option = {\n\t\t\t\ttitle: {\n\t\t\t\t\ttext: '学生综合评价',\n\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\tfontSize: 12\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttooltip: {},\n\n\t\t\t\tradar: {\n\t\t\t\t\t// shape: 'circle',\n\t\t\t\t\tname: {\n\t\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\tbackgroundColor: '#999',\n\t\t\t\t\t\t\tborderRadius: 3,\n\t\t\t\t\t\t\tpadding: [3, 5]\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tindicator: [{\n\t\t\t\t\t\t\tname: '德育',\n\t\t\t\t\t\t\tmax: 1\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '智育',\n\t\t\t\t\t\t\tmax: 1\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '体育',\n\t\t\t\t\t\t\tmax: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\tseries: [{\n\t\t\t\t\tname: '三育',\n\t\t\t\t\ttype: 'radar',\n\t\t\t\t\tareaStyle: {\n\t\t\t\t\t\tnormal: {}\n\t\t\t\t\t},\n\t\t\t\t\tdata: [{\n\t\t\t\t\t\tvalue: this.mks,\n\t\t\t\t\t\tname: '三育'\n\t\t\t\t\t}]\n\t\t\t\t}]\n\t\t\t};\n\t\t\tmyChart.setOption(option);\n\t\t},\n\n\t\t/**\n\t\t * 获取学生成绩面板数据\n\t\t */\n\t\tgetStudentScore(sno, xuenian) {\n\t\t\tthis.$http.post(\"stuAnalysis/courses/\" + xuenian + \"/\" + sno + \"/3\")\n\t\t\t\t.then(({\n\t\t\t\t\tdata\n\t\t\t\t}) => {\n\t\t\t\t\tthis.studentscore.top1.name = data[0]['cname'];\n\t\t\t\t\tthis.studentscore.top2.name = data[1]['cname'];\n\t\t\t\t\tthis.studentscore.top3.name = data[2]['cname'];\n\t\t\t\t\tthis.studentscore.top1.score = data[0]['score'];\n\t\t\t\t\tthis.studentscore.top2.score = data[1]['score'];\n\t\t\t\t\tthis.studentscore.top3.score = data[2]['score'];\n\t\t\t\t\tthis.studentscore.topscore = data[0]['score'];\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\talert(this.$errmsg(err));\n\t\t\t\t});\n\n\t\t\tthis.$http.post(\"stuAnalysis/courses/\" + xuenian + \"/\" + sno + \"/50\")\n\t\t\t\t.then(({\n\t\t\t\t\tdata\n\t\t\t\t}) => {\n\t\t\t\t\tlet sum = 0;\n\t\t\t\t\tlet credit = 0;\n\t\t\t\t\tlet creditjd = 0;\n\t\t\t\t\tdata.map(d => {\n\t\t\t\t\t\tsum += d['score'];\n\t\t\t\t\t\tif (d['score'] >= 60) {\n\t\t\t\t\t\t\tcredit += d['credit'];\n\t\t\t\t\t\t\tcreditjd += d['credit'] * d['jd'];\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tthis.studentscore.avg = (sum / data.length).toFixed(2);\n\t\t\t\t\tthis.studentscore.credit = credit.toFixed(2);\n\t\t\t\t\tthis.studentscore.avgcreditjd = (creditjd / credit).toFixed(2);\n\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\talert(this.$errmsg(err));\n\t\t\t\t});\n\t\t\t\tthis.$http.get(\"stuAnalysis/rank/\" + xuenian + \"/\" + sno)\n\t\t\t\t.then(({\n\t\t\t\t\tdata\n\t\t\t\t}) => {\n\t\t\t\t\tthis.studentscore.sorted = data;\n\t\t\t\t});\n\t\t\t\tthis.$http.post(\"stuAnalysis/searchfailsRate/\"+xuenian+\"/\"+sno)\n\t\t\t\t\t\t.then(({data}) => this.studentscore.fails = data*100);\n\t\t},\n\t\t\n\t\n\t/**\n\t * 成绩趋势\n\t *\n\t */\n\tdrawSorcetrend() {\n\t\t//TODO\n\t\tlet myChart = this.$echarts.init(document.getElementById(\"trendchart\"));\n\t\tlet colors = ['#5793f3', '#d14a61', '#675bba'];\n\t\tlet option = {\n\t\t\ttooltip: {\n\t\t\t\ttrigger: 'axis',\n\t\t\t\taxisPointer: {\n\t\t\t\t\ttype: 'cross'\n\t\t\t\t}\n\t\t\t},\n\t\t\tlegend: {\n\t\t\t\tdata: ['德育分', '智育分', '体育分']\n\t\t\t},\n\t\t\txAxis: [{\n\t\t\t\ttype: 'category',\n\t\t\t\taxisTick: {\n\t\t\t\t\talignWithLabel: true\n\t\t\t\t},\n\t\t\t\tdata: ['2017-2018', '2018-2019', '2019-2020']\n\t\t\t}],\n\t\t\tyAxis: [{\n\t\t\t\t\ttype: 'value',\n\t\t\t\t\tname: '德育分',\n\t\t\t\t\tmin: 15,\n\t\t\t\t\tmax: 25,\n\t\t\t\t\tinterval: 1,\n\t\t\t\t\tposition: 'right',\n\t\t\t\t\taxisLine: {\n\t\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\t\tcolor: colors[0]\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\taxisLabel: {\n\t\t\t\t\t\tformatter: '{value} '\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'value',\n\t\t\t\t\tname: '智育分',\n\t\t\t\t\tmin: 60,\n\t\t\t\t\tmax: 70,\n\t\t\t\t\tinterval: 2,\n\t\t\t\t\tposition: 'right',\n\t\t\t\t\toffset: 80,\n\t\t\t\t\taxisLine: {\n\t\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\t\tcolor: colors[1]\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\taxisLabel: {\n\t\t\t\t\t\tformatter: '{value} '\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'value',\n\t\t\t\t\tname: '体育分',\n\t\t\t\t\tmin: 0,\n\t\t\t\t\tmax: 5,\n\t\t\t\t\tposition: 'left',\n\t\t\t\t\taxisLine: {\n\t\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\t\tcolor: colors[2]\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\taxisLabel: {\n\t\t\t\t\t\tformatter: '{value}'\n\t\t\t\t\t},\n\t\t\t\t\tinterval: 1\n\t\t\t\t}\n\t\t\t],\n\t\t\tseries: [{\n\t\t\t\t\tname: '德育分',\n\t\t\t\t\ttype: 'line',\n\t\t\t\t\tdata: [20, 21.5, 22]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '智育分',\n\t\t\t\t\ttype: 'line',\n\t\t\t\t\tyAxisIndex: 1,\n\t\t\t\t\tdata: [62, 61.5, 62.5]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '体育分',\n\t\t\t\t\ttype: 'line',\n\t\t\t\t\tyAxisIndex: 2,\n\t\t\t\t\tdata: [4.5, 4, 3.8]\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\tmyChart.setOption(option);\n\t}\n\n\n},\ncomponents: {\n\n\t},\n\tmounted() {\n\t\tthis.drawBlankRadar();\n\t\n\t},\n\twatch: {\n\t\tstate(newv, oldv) {\n\t\t\tif (newv.match(/^[\\u4e00-\\u9fa5]+$/)) {\n\t\t\t\tif (newv.length > 10) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet data = {\n\t\t\t\t\t\"sname\": newv\n\t\t\t\t}\n\t\t\t\tthis.$http.post(\"stuAnalysis/searchadv\", this.$qs.stringify(data))\n\t\t\t\t\t.then(({\n\t\t\t\t\t\tdata\n\t\t\t\t\t}) => {\n\t\t\t\t\t\tthis.stuadvices = data;\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tif (err.response.status != 404) {\n\t\t\t\t\t\t\talert(this.$errmsg(err));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t})\n\n\t\t\t}\n\t\t},\n\t\tflag(n) {\n\t\t\tif (n == 3) {\n\t\t\t\tthis.$message({\n\t\t\t\t\tmessage: '保存成功！',\n\t\t\t\t\ttype: 'success'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n}\n",{"version":3,"sources":["personal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"personal.vue","sourceRoot":"src/pages/person_analysis","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-drawer title=\"词云图设置(词条请用空格符分隔)\" :visible.sync=\"drawer\" :direction=\"direction\" :beforeClose=\"drawerhandleClose\">\r\n\t\t\t<el-form :label-position=\"labelPosition\" label-width=\"80px\" :model=\"wordcloud\">\r\n\t\t\t\t<el-form-item label=\"添加停用词条\">\r\n\t\t\t\t\t<el-input type=\"textarea\" placeholder=\"每个词语请用空格隔开\" v-model=\"wordcloud.stopwd\" maxlength=\"30\" show-word-limit>\r\n\t\t\t\t\t</el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"添加自定义词条\">\r\n\t\t\t\t\t<el-input type=\"textarea\" placeholder=\"每个词语请用空格隔开\" v-model=\"wordcloud.userdict\" maxlength=\"30\" show-word-limit>\r\n\t\t\t\t\t</el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-button @click=\"saveWordCloudSettings\" style=\"float: right;margin-right: 5px;\" type=\"primary\" plain size=\"medium\"\r\n\t\t\t\t :disabled=\"flag==3?false:true\">\r\n\t\t\t\t\t{{flag==3?'保存':'保存中'}}\r\n\t\t\t\t</el-button>\r\n\t\t\t</el-form>\r\n\t\t</el-drawer>\r\n\t\t<el-container>\r\n\t\t\t<el-main class=\"search\">\r\n\t\t\t\t<el-form :inline=\"true\" :model=\"stuForm\" ref=\"stuForm\" class=\"form-inline\" style=\"margin: 0 auto;\">\r\n\t\t\t\t\t<el-form-item label=\"学号查询\">\r\n\t\t\t\t\t\t<el-autocomplete popper-class=\"my-autocomplete\" v-model=\"state\" :fetch-suggestions=\"querySearch\" placeholder=\"请输入学号或姓名\"\r\n\t\t\t\t\t\t @select=\"handleSelect\" :trigger-on-focus=\"false\">\r\n\t\t\t\t\t\t\t<i class=\"el-icon-edit el-input__icon\" slot=\"suffix\">\r\n\t\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t\t<template slot-scope=\"{ item }\">\r\n\t\t\t\t\t\t\t\t<div class=\"name\">{{ item.name }}</div>\r\n\t\t\t\t\t\t\t\t<span class=\"addr\">{{ item.value }}</span>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</el-autocomplete>\r\n\t\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"onSubmitPerson\">查询</el-button>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-form>\r\n\t\t\t</el-main>\r\n\t\t</el-container>\r\n\t\t<el-container>\r\n\t\t\t<el-aside width=\"450px\">\r\n\t\t\t\t<el-card class=\"box-card\">\r\n\t\t\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t\t\t<span>学生卡片</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<el-table :data=\"tableData\" style=\"width: 100%\" :show-header='false'>\r\n\t\t\t\t\t\t\t<el-table-column prop=\"key\" width=\"180\">\r\n\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t<el-table-column prop=\"value\">\r\n\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t</el-table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-card>\r\n\t\t\t</el-aside>\r\n\t\t\t<el-main>\r\n\t\t\t\t<el-tag type=\"info\" effect=\"dark\">学生描述\r\n\t\t\t\t\t<el-button @click=\"drawer = true\" style=\"float: right;background: none;color: #FFFFFF;margin-top: 1px;margin-left: 5px;\"\r\n\t\t\t\t\t plain size=\"mini\">\r\n\t\t\t\t\t\t分析不准确?\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t</el-tag>\r\n\r\n\t\t\t\t<div><img :src=\"imagePathPrefix+imagePath\" alt=\"\" width=\"600\">\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</el-main>\r\n\t\t</el-container>\r\n\t\t<el-container>\r\n\t\t\t<el-main style=\"height: auto;\">\r\n\t\t\t\t<el-tag type=\"info\" effect=\"dark\">学生行为</el-tag>\r\n\t\t\t\t<el-tabs v-model=\"activeName\" @tab-click=\"stubehavior\">\r\n\t\t\t\t\t<el-tab-pane label=\"学生成绩\" name=\"stuscore\">\r\n\t\t\t\t\t\t<el-container id=\"stuscoretab\">\r\n\t\t\t\t\t\t\t<el-header>\r\n\t\t\t\t\t\t\t\t<el-select v-model=\"value\" size=\"mini\" value=\"2018-2019\" @change=\"changeTyChart\" style=\"float: left;\">\r\n\t\t\t\t\t\t\t\t\t<el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n\t\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t\t</el-header>\r\n\t\t\t\t\t\t\t<el-container>\r\n\t\t\t\t\t\t\t\t<el-aside style=\"height: 100%;\">\r\n\t\t\t\t\t\t\t\t\t<div id=\"mksradar\" style=\"width: 290px;height: 290px;\">1</div>\r\n\t\t\t\t\t\t\t\t</el-aside>\r\n\r\n\t\t\t\t\t\t\t\t<el-main style=\"height: 100%;\">\r\n\t\t\t\t\t\t\t\t\t<el-carousel indicator-position=\"outside\" height=\"350px\" :autoplay=\"false\">\r\n\t\t\t\t\t\t\t\t\t\t<el-carousel-item>\r\n\t\t\t\t\t\t\t\t\t\t\t<el-row :gutter=\"5\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<el-card shadow=\"hover\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>学科平均分</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{studentscore.avg}}<span style=\"font-size: 10px\">分</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</el-card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<el-card shadow=\"hover\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>获得学分</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{studentscore.credit}}<span style=\"font-size: 10px\">分</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</el-card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<el-card shadow=\"hover\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>平均学分绩点</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{studentscore.avgcreditjd}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</el-card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t\t\t\t\t\t\t<br>\r\n\t\t\t\t\t\t\t\t\t\t\t<el-row :gutter=\"5\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<el-card shadow=\"hover\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>智育分</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{studentscore.knowledge}}<span style=\"font-size: 10px\">分</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</el-card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<el-card shadow=\"hover\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>德育分</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{studentscore.moral}}<span style=\"font-size: 10px\">分</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</el-card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<el-card shadow=\"hover\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>体育分</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{studentscore.sports}}<span style=\"font-size: 10px\">分</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</el-card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t\t\t\t\t\t</el-carousel-item>\r\n\t\t\t\t\t\t\t\t\t\t<el-carousel-item>\r\n\t\t\t\t\t\t\t\t\t\t\t<el-row :gutter=\"5\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<el-card shadow=\"hover\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>成绩Top1:{{studentscore.top1.name}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{studentscore.top1.score}}<span style=\"font-size: 10px\">分</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</el-card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<el-card shadow=\"hover\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>成绩Top2:{{studentscore.top2.name}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{studentscore.top2.score}}<span style=\"font-size: 10px\">分</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</el-card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<el-card shadow=\"hover\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>成绩Top3:{{studentscore.top3.name}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{studentscore.top3.score}}<span style=\"font-size: 10px\">分</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</el-card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t\t\t\t\t\t\t<br>\r\n\t\t\t\t\t\t\t\t\t\t\t<el-row :gutter=\"5\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<el-card shadow=\"hover\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>最高分</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{studentscore.topscore}}<span style=\"font-size: 10px\">分</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</el-card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<el-card shadow=\"hover\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>专业排名</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{studentscore.sorted}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</el-card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<el-card shadow=\"hover\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>挂科率</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{studentscore.fails}}<span style=\"font-size: 10px\">%</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</el-card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t\t\t\t\t\t</el-carousel-item>\r\n\t\t\t\t\t\t\t\t\t</el-carousel>\r\n\r\n\t\t\t\t\t\t\t\t</el-main>\r\n\t\t\t\t\t\t\t</el-container>\r\n\t\t\t\t\t\t</el-container>\r\n\t\t\t\t\t</el-tab-pane>\r\n\t\t\t\t\t<el-tab-pane label=\"成绩走势\" name=\"trend\">\r\n\t\t\t\t\t\t<div id=\"trendchart\" style=\"width: 1000px;height: 350px;\">\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</el-tab-pane>\r\n\t\t\t\t\t<el-tab-pane label=\"获奖/获证记录\" name=\"reward\">\r\n\t\t\t\t\t\t<el-container>\r\n\t\t\t\t\t\t\t<el-header>\r\n\t\t\t\t\t\t\t\t<el-select v-model=\"value\" size=\"mini\" value=\"2018-2019\" @change=\"changeTyChart\" style=\"float: left;\">\r\n\t\t\t\t\t\t\t\t\t<el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n\t\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t\t</el-header>\r\n\t\t\t\t\t\t\t<el-container>\r\n\t\t\t\t\t\t\t\t<el-main>\r\n\t\t\t\t\t\t\t\t<el-timeline class=\"rewardRecords\">\r\n\t\t\t\t\t\t\t\t    <el-timeline-item timestamp=\"2018/6/13\" placement=\"top\">\r\n\t\t\t\t\t\t\t\t      <el-card>\r\n\t\t\t\t\t\t\t\t        <h4>企业模拟经营活动二等奖</h4>\r\n\t\t\t\t\t\t\t\t        <p>校级 团队奖 获得于 2018/6/13</p>\r\n\t\t\t\t\t\t\t\t      </el-card>\r\n\t\t\t\t\t\t\t\t    </el-timeline-item>\r\n\t\t\t\t\t\t\t\t    <el-timeline-item timestamp=\"2018/5/16\" placement=\"top\">\r\n\t\t\t\t\t\t\t\t      <el-card>\r\n\t\t\t\t\t\t\t\t        <h4>长沙理工大学英语竞赛</h4>\r\n\t\t\t\t\t\t\t\t        <p>校级 个人奖 获得于 2018/5/16</p>\r\n\t\t\t\t\t\t\t\t      </el-card>\r\n\t\t\t\t\t\t\t\t    </el-timeline-item>\r\n\t\t\t\t\t\t\t\t    <el-timeline-item timestamp=\"2018/4/16\" placement=\"top\">\r\n\t\t\t\t\t\t\t\t      <el-card>\r\n\t\t\t\t\t\t\t\t        <h4>优秀志愿者</h4>\r\n\t\t\t\t\t\t\t\t        <p>校级 团队奖 获得于 2018/4/16</p>\r\n\t\t\t\t\t\t\t\t      </el-card>\r\n\t\t\t\t\t\t\t\t    </el-timeline-item>\r\n\t\t\t\t\t\t\t\t  </el-timeline>\r\n\t\t\t\t\t\t\t\t  </el-main>\r\n\t\t\t\t\t\t\t</el-container>\r\n\t\t\t\t\t\t</el-container>\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t</el-tab-pane>\r\n\r\n\t\t\t\t\t<el-tab-pane label=\"惩罚记录\" name=\"punish\">\r\n\t\t\t\t\t\t<el-container>\r\n\t\t\t\t\t\t\t<el-main>\r\n\t\t\t\t\t\t\t<el-timeline class=\"rewardRecords\">\r\n\t\t\t\t\t\t\t    <el-timeline-item timestamp=\"2018/6/13\" placement=\"top\">\r\n\t\t\t\t\t\t\t      <el-card>\r\n\t\t\t\t\t\t\t        <h4>迟到</h4>\r\n\t\t\t\t\t\t\t        <p>通报批评 于 2018/6/13</p>\r\n\t\t\t\t\t\t\t      </el-card>\r\n\t\t\t\t\t\t\t    </el-timeline-item>\r\n\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t  </el-timeline>\r\n\t\t\t\t\t\t\t  </el-main>\r\n\t\t\t\t\t\t</el-container>\r\n\t\t\t\t\t</el-tab-pane>\r\n\t\t\t\t\t<el-tab-pane label=\"考勤记录\" name=\"kq\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<el-calendar v-model=\"datevalue\" id=\"calendar\">\r\n\t\t\t\t\t\t      <!-- 这里使用的是 2.5 slot 语法，对于新项目请使用 2.6 slot 语法-->\r\n\t\t\t\t\t\t      <template\r\n\t\t\t\t\t\t       slot=\"dateCell\"\r\n\t\t\t\t\t\t       slot-scope=\"{date, data}\">\r\n\t\t\t\t\t\t        <!--自定义内容-->\r\n\t\t\t\t\t\t          <div>\r\n\t\t\t\t\t\t             <div class=\"calendar-day\">{{ data.day.split('-').slice(2).join('-') }}</div>\r\n\t\t\t\t\t\t                <div v-for=\"item in calendarData\">\r\n\t\t\t\t\t\t                   <div v-if=\"(item.months).indexOf(data.day.split('-').slice(1)[0])!=-1\">\r\n\t\t\t\t\t\t                     <div v-if=\"(item.days).indexOf(data.day.split('-').slice(2).join('-'))!=-1\">\r\n\t\t\t\t\t\t                          <el-tooltip class=\"item\" effect=\"dark\" :content=\"item.things\" placement=\"right\">\r\n\t\t\t\t\t\t                               <div class=\"is-selected\">{{item.things}}</div>\r\n\t\t\t\t\t\t                          </el-tooltip>\r\n\t\t\t\t\t\t                       </div>\r\n\t\t\t\t\t\t                    <div v-else></div>\r\n\t\t\t\t\t\t                   </div>\r\n\t\t\t\t\t\t               <div v-else></div>\r\n\t\t\t\t\t\t             </div>\r\n\t\t\t\t\t\t          </div>\r\n\t\t\t\t\t\t      </template>\r\n\t\t\t\t\t\t</el-calendar>\r\n\t\t\t\t\t</el-tab-pane>\r\n\t\t\t\t</el-tabs>\r\n\t\t\t</el-main>\r\n\t\t</el-container>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport wordcloudindex from './wordcloud1.js'\r\n\timport {\r\n\t\tLoading\r\n\t} from 'element-ui';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tstuForm: {\r\n\t\t\t\t\tstuid: ''\r\n\t\t\t\t},\r\n\t\t\t\tcalendarData: [\r\n\t\t\t\t                    { months: ['09', '11'],days: ['15'],year:['2019'],things: '迟到' },\r\n\t\t\t\t                    { months: ['11'], days: ['20'],things: '缺勤' }\r\n\t\t\t\t                ],\r\n\t\t\t\t                datevalue: new Date(),\r\n\t\t\t\t activities: [{\r\n\t\t\t\t          content: '活动按期开始',\r\n\t\t\t\t          timestamp: '2018-04-15'\r\n\t\t\t\t        }, {\r\n\t\t\t\t          content: '通过审核',\r\n\t\t\t\t          timestamp: '2018-04-13'\r\n\t\t\t\t        }, {\r\n\t\t\t\t          content: '创建成功',\r\n\t\t\t\t          timestamp: '2018-04-11'\r\n\t\t\t\t}],\r\n\t\t\t\tlabelPosition: 'top',\r\n\t\t\t\twordcloud: {\r\n\t\t\t\t\tstopwd: '',\r\n\t\t\t\t\tuserdict: ''\r\n\t\t\t\t},\r\n\t\t\t\tflag: 3,\r\n\t\t\t\tstudentscore: {\r\n\t\t\t\t\tavg: '无',\r\n\t\t\t\t\tcredit: '无',\r\n\t\t\t\t\tavgcreditjd: '无',\r\n\t\t\t\t\tmoral: '无',\r\n\t\t\t\t\tknowledge: '无',\r\n\t\t\t\t\tsports: '无',\r\n\t\t\t\t\ttop1: {\r\n\t\t\t\t\t\tname: '无',\r\n\t\t\t\t\t\tscore: '无'\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttop2: {\r\n\t\t\t\t\t\tname: '无',\r\n\t\t\t\t\t\tscore: '无'\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttop3: {\r\n\t\t\t\t\t\tname: '无',\r\n\t\t\t\t\t\tscore: '无'\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttopscore: '无',\r\n\t\t\t\t\tsorted: '无',\r\n\t\t\t\t\tfails: '无'\r\n\r\n\t\t\t\t},\r\n\t\t\t\tmks: [],\r\n\t\t\t\tsavemsg: '保存',\r\n\t\t\t\timagePathPrefix: 'http://192.168.184.1:5000/',\r\n\t\t\t\timagePath: 'static/blank.png',\r\n\t\t\t\tsearchinput: '',\r\n\t\t\t\tstuadvices: [], //搜索建议列表\r\n\t\t\t\tstate: '', //搜索框值\r\n\t\t\t\ttimeout: null,\r\n\t\t\t\tdrawer: false,\r\n\t\t\t\tdirection: 'ltr',\r\n\t\t\t\tactiveName: 'stuscore',\r\n\t\t\t\toptions: [{\r\n\t\t\t\t\t\tvalue: '0',\r\n\t\t\t\t\t\tlabel: '请选择学期'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '2017-2018',\r\n\t\t\t\t\t\tlabel: '2017-2018'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: '2018-2019',\r\n\t\t\t\t\t\tlabel: '2018-2019'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tvalue: '2018-2019',\r\n\t\t\t\ttableData: [{\r\n\t\t\t\t\tkey: '学号',\r\n\t\t\t\t\tvalue: '暂无数据'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tkey: '姓名',\r\n\t\t\t\t\tvalue: '暂无数据'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tkey: '性别',\r\n\t\t\t\t\tvalue: '暂无数据'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tkey: '年级',\r\n\t\t\t\t\tvalue: '暂无数据'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tkey: '专业',\r\n\t\t\t\t\tvalue: '暂无数据'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tkey: '班级',\r\n\t\t\t\t\tvalue: '暂无数据'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tkey: '民族',\r\n\t\t\t\t\tvalue: '暂无数据'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tkey: '政治面貌',\r\n\t\t\t\t\tvalue: '暂无数据'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tkey: '家庭住址',\r\n\t\t\t\t\tvalue: '暂无数据'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tkey: '出生日期',\r\n\t\t\t\t\tvalue: '暂无数据',\r\n\t\t\t\t}, {\r\n\t\t\t\t\tkey: '寝室',\r\n\t\t\t\t\tvalue: '暂无数据'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tkey: '学生类型',\r\n\t\t\t\t\tvalue: '暂无数据'\r\n\t\t\t\t}]\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonSubmitPerson() {\r\n\t\t\t\tlet sno = this.state;\r\n\t\t\t\tlet flag = true;\r\n\t\t\t\tif (sno.match(/^[0-9]*$/)) {\r\n\t\t\t\t\tlet loadingInstance = Loading.service({\r\n\t\t\t\t\t\tfullscreen: true\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.$http.get(\"stuAnalysis/searchstu/\" + sno)\r\n\t\t\t\t\t\t.then(({\r\n\t\t\t\t\t\t\tdata\r\n\t\t\t\t\t\t}) => {\r\n\t\t\t\t\t\t\tthis.tableData = [{\r\n\t\t\t\t\t\t\t\tkey: '学号',\r\n\t\t\t\t\t\t\t\tvalue: data.studentno\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\tkey: '姓名',\r\n\t\t\t\t\t\t\t\tvalue: data.studentname\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\tkey: '性别',\r\n\t\t\t\t\t\t\t\tvalue: data.sex\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\tkey: '年级',\r\n\t\t\t\t\t\t\t\tvalue: data.termyear\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\tkey: '专业',\r\n\t\t\t\t\t\t\t\tvalue: data.major\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\tkey: '班级',\r\n\t\t\t\t\t\t\t\tvalue: data.class\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\tkey: '民族',\r\n\t\t\t\t\t\t\t\tvalue: data.mz\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\tkey: '政治面貌',\r\n\t\t\t\t\t\t\t\tvalue: data.zzmm\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\tkey: '家庭住址',\r\n\t\t\t\t\t\t\t\tvalue: data.address\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\tkey: '出生日期',\r\n\t\t\t\t\t\t\t\tvalue: data.birthday,\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\tkey: '寝室',\r\n\t\t\t\t\t\t\t\tvalue: data.buildingname + data.roomnum\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\tkey: '学生类型',\r\n\t\t\t\t\t\t\t\tvalue: data.stutype\r\n\t\t\t\t\t\t\t}]\r\n\r\n\t\t\t\t\t\t\tthis.drawMksRadar(this.tableData[0][\"value\"], this.value);\r\n\t\t\t\t\t\t\tflag = true;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\talert(this.$errmsg(err));\r\n\t\t\t\t\t\t\tloadingInstance.close();\r\n\t\t\t\t\t\t\tthis.tableData = [];\r\n\t\t\t\t\t\t\tflag = true;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tthis.$http.get(\"stuAnalysis/stuwordcloud/\" + sno)\r\n\t\t\t\t\t\t.then(({\r\n\t\t\t\t\t\t\tdata\r\n\t\t\t\t\t\t}) => {\r\n\t\t\t\t\t\t\tthis.imagePath = data;\r\n\t\t\t\t\t\t\tloadingInstance.close();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\talert(this.$errmsg(err));\r\n\t\t\t\t\t\t\tthis.imagePathPrefix = '';\r\n\t\t\t\t\t\t\tthis.imagePath = '../../assets/blank.png';\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tthis.getStudentScore(sno, '2018-2019');\r\n\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(\"请输入学号进行查询\");\r\n\t\t\t\t\tloadingInstance.close();\r\n\t\t\t\t\tthis.tableData = [];\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t},\r\n\t\t\tstubehavior(tab, event) {\r\n\t\t\t\tconsole.log(tab.name);\r\n\t\t\t\tswitch (tab.name) {\r\n\t\t\t\t\tcase \"stuscore\":\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"trend\":\r\n\t\t\t\t\t\tthis.drawSorcetrend();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"reward\":\r\n\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"punish\":\r\n\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"kq\":\r\n\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tchangeTyChart() {\r\n\r\n\t\t\t},\r\n\t\t\tquerySearch(queryString, cb) {\r\n\t\t\t\tvar stuadvices = this.stuadvices;\r\n\t\t\t\tvar results = queryString ? stuadvices.filter(this.createFilter(queryString)) : stuadvices;\r\n\t\t\t\t// 调用 callback 返回建议列表的数据\r\n\t\t\t\tclearTimeout(this.timeout);\r\n\t\t\t\tthis.timeout = setTimeout(() => {\r\n\t\t\t\t\tcb(results);\r\n\t\t\t\t}, 2000 * Math.random());\r\n\t\t\t},\r\n\t\t\tcreateFilter(queryString) {\r\n\t\t\t\treturn (state) => {\r\n\t\t\t\t\treturn (state.name.toLowerCase().indexOf(queryString.toLowerCase()) === 0);\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\thandleSelect(item) {\r\n\t\t\t\tconsole.log(item);\r\n\t\t\t},\r\n\t\t\tdrawerhandleClose(done) {\r\n\t\t\t\tthis.$confirm('确认关闭？')\r\n\t\t\t\t\t.then(_ => {\r\n\t\t\t\t\t\tthis.wordcloud.stopwd = '';\r\n\t\t\t\t\t\tthis.wordcloud.userdict = '';\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(_ => {});\r\n\r\n\t\t\t},\r\n\t\t\tsaveWordCloudSettings() {\r\n\t\t\t\tthis.flag = 1;\r\n\t\t\t\tthis.savemsg = '保存中';\r\n\t\t\t\tlet stopwd = this.wordcloud.stopwd;\r\n\t\t\t\tlet userdict = this.wordcloud.userdict;\r\n\t\t\t\tlet stoplist = stopwd.split(\" \");\r\n\t\t\t\tlet userdictlist = userdict.split(\" \");\r\n\t\t\t\tif (stoplist.length == 1 && stoplist[0].length == 0) {\r\n\t\t\t\t\tthis.flag += 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$http.put(\"admin/addstopwords\", this.$qs.stringify({\r\n\t\t\t\t\t\t\t\"stopwd\": stoplist\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tindices: false\r\n\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t.then(({\r\n\t\t\t\t\t\t\tdata\r\n\t\t\t\t\t\t}) => {\r\n\t\t\t\t\t\t\tthis.addswdmsg = data;\r\n\t\t\t\t\t\t\tthis.flag += 1;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\talert(this.$errmsg(err));\r\n\t\t\t\t\t\t\tthis.flag += 1;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (userdictlist.length == 1 && userdictlist[0].length == 0) {\r\n\t\t\t\t\tthis.flag += 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$http.put(\"admin/adduserdict\", this.$qs.stringify({\r\n\t\t\t\t\t\t\t\"userdict\": userdictlist\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tindices: false\r\n\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t.then(({\r\n\t\t\t\t\t\t\tdata\r\n\t\t\t\t\t\t}) => {\r\n\t\t\t\t\t\t\tthis.addudtmsg = data;\r\n\t\t\t\t\t\t\tthis.flag += 1;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\talert(this.$errmsg(err));\r\n\t\t\t\t\t\t\tthis.flag += 1;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * @param {String} sno 学号\r\n\t\t\t * @param {String} xuenian 学年\r\n\t\t\t * 三育雷达图\r\n\t\t\t */\r\n\t\t\tdrawMksRadar(sno, xuenian) {\r\n\t\t\t\t\r\n\t\t\t\tlet myChart = this.$echarts.init(document.getElementById(\"mksradar\"));\r\n\t\t\t\tmyChart.showLoading();\r\n\t\t\t\tthis.$http.post(\"stuAnalysis/mks/\" + xuenian + \"/\" + sno)\r\n\t\t\t\t\t.then(({\r\n\t\t\t\t\t\tdata\r\n\t\t\t\t\t}) => {\r\n\t\t\t\t\t\tthis.mks = [];\r\n\t\t\t\t\t\tthis.mks.push(data[\"m\"]);\r\n\t\t\t\t\t\tthis.mks.push(data[\"k\"]);\r\n\t\t\t\t\t\tthis.mks.push(data[\"s\"]);\r\n\t\t\t\t\t\tthis.studentscore.moral = (data['m'] * 25).toFixed(2);\r\n\t\t\t\t\t\tthis.studentscore.knowledge = (data['k'] * 70).toFixed(2);\r\n\t\t\t\t\t\tthis.studentscore.sports = (data['s'] * 5).toFixed(2);\r\n\t\t\t\t\t\tlet option = {\r\n\t\t\t\t\t\t\ttitle: {\r\n\t\t\t\t\t\t\t\ttext: '学生综合评价',\r\n\t\t\t\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\t\t\t\tfontSize: 12\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ttooltip: {},\r\n\r\n\t\t\t\t\t\t\tradar: {\r\n\t\t\t\t\t\t\t\t// shape: 'circle',\r\n\t\t\t\t\t\t\t\tname: {\r\n\t\t\t\t\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\t\t\t\t\tcolor: '#fff',\r\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#999',\r\n\t\t\t\t\t\t\t\t\t\tborderRadius: 3,\r\n\t\t\t\t\t\t\t\t\t\tpadding: [3, 5]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tindicator: [{\r\n\t\t\t\t\t\t\t\t\t\tname: '德育',\r\n\t\t\t\t\t\t\t\t\t\tmax: 1\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tname: '智育',\r\n\t\t\t\t\t\t\t\t\t\tmax: 1\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tname: '体育',\r\n\t\t\t\t\t\t\t\t\t\tmax: 1\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tseries: [{\r\n\t\t\t\t\t\t\t\tname: '三育',\r\n\t\t\t\t\t\t\t\ttype: 'radar',\r\n\t\t\t\t\t\t\t\tareaStyle: {\r\n\t\t\t\t\t\t\t\t\tnormal: {}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tdata: [{\r\n\t\t\t\t\t\t\t\t\tvalue: this.mks,\r\n\t\t\t\t\t\t\t\t\tname: '三育'\r\n\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tmyChart.hideLoading();\r\n\t\t\t\t\t\tmyChart.setOption(option);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tmyChart.hideLoading();\r\n\t\t\t\t\t\talert(this.$errmsg(err));\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdrawBlankRadar() {\r\n\t\t\t\tlet myChart = this.$echarts.init(document.getElementById(\"mksradar\"));\r\n\t\t\t\tlet option = {\r\n\t\t\t\t\ttitle: {\r\n\t\t\t\t\t\ttext: '学生综合评价',\r\n\t\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\t\tfontSize: 12\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttooltip: {},\r\n\r\n\t\t\t\t\tradar: {\r\n\t\t\t\t\t\t// shape: 'circle',\r\n\t\t\t\t\t\tname: {\r\n\t\t\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\t\t\tcolor: '#fff',\r\n\t\t\t\t\t\t\t\tbackgroundColor: '#999',\r\n\t\t\t\t\t\t\t\tborderRadius: 3,\r\n\t\t\t\t\t\t\t\tpadding: [3, 5]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tindicator: [{\r\n\t\t\t\t\t\t\t\tname: '德育',\r\n\t\t\t\t\t\t\t\tmax: 1\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: '智育',\r\n\t\t\t\t\t\t\t\tmax: 1\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: '体育',\r\n\t\t\t\t\t\t\t\tmax: 1\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tseries: [{\r\n\t\t\t\t\t\tname: '三育',\r\n\t\t\t\t\t\ttype: 'radar',\r\n\t\t\t\t\t\tareaStyle: {\r\n\t\t\t\t\t\t\tnormal: {}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdata: [{\r\n\t\t\t\t\t\t\tvalue: this.mks,\r\n\t\t\t\t\t\t\tname: '三育'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t}]\r\n\t\t\t\t};\r\n\t\t\t\tmyChart.setOption(option);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 获取学生成绩面板数据\r\n\t\t\t */\r\n\t\t\tgetStudentScore(sno, xuenian) {\r\n\t\t\t\tthis.$http.post(\"stuAnalysis/courses/\" + xuenian + \"/\" + sno + \"/3\")\r\n\t\t\t\t\t.then(({\r\n\t\t\t\t\t\tdata\r\n\t\t\t\t\t}) => {\r\n\t\t\t\t\t\tthis.studentscore.top1.name = data[0]['cname'];\r\n\t\t\t\t\t\tthis.studentscore.top2.name = data[1]['cname'];\r\n\t\t\t\t\t\tthis.studentscore.top3.name = data[2]['cname'];\r\n\t\t\t\t\t\tthis.studentscore.top1.score = data[0]['score'];\r\n\t\t\t\t\t\tthis.studentscore.top2.score = data[1]['score'];\r\n\t\t\t\t\t\tthis.studentscore.top3.score = data[2]['score'];\r\n\t\t\t\t\t\tthis.studentscore.topscore = data[0]['score'];\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\talert(this.$errmsg(err));\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tthis.$http.post(\"stuAnalysis/courses/\" + xuenian + \"/\" + sno + \"/50\")\r\n\t\t\t\t\t.then(({\r\n\t\t\t\t\t\tdata\r\n\t\t\t\t\t}) => {\r\n\t\t\t\t\t\tlet sum = 0;\r\n\t\t\t\t\t\tlet credit = 0;\r\n\t\t\t\t\t\tlet creditjd = 0;\r\n\t\t\t\t\t\tdata.map(d => {\r\n\t\t\t\t\t\t\tsum += d['score'];\r\n\t\t\t\t\t\t\tif (d['score'] >= 60) {\r\n\t\t\t\t\t\t\t\tcredit += d['credit'];\r\n\t\t\t\t\t\t\t\tcreditjd += d['credit'] * d['jd'];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.studentscore.avg = (sum / data.length).toFixed(2);\r\n\t\t\t\t\t\tthis.studentscore.credit = credit.toFixed(2);\r\n\t\t\t\t\t\tthis.studentscore.avgcreditjd = (creditjd / credit).toFixed(2);\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\talert(this.$errmsg(err));\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.$http.get(\"stuAnalysis/rank/\" + xuenian + \"/\" + sno)\r\n\t\t\t\t\t.then(({\r\n\t\t\t\t\t\tdata\r\n\t\t\t\t\t}) => {\r\n\t\t\t\t\t\tthis.studentscore.sorted = data;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.$http.post(\"stuAnalysis/searchfailsRate/\"+xuenian+\"/\"+sno)\r\n\t\t\t\t\t\t\t.then(({data}) => this.studentscore.fails = data*100);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * 成绩趋势\r\n\t\t *\r\n\t\t */\r\n\t\tdrawSorcetrend() {\r\n\t\t\t//TODO\r\n\t\t\tlet myChart = this.$echarts.init(document.getElementById(\"trendchart\"));\r\n\t\t\tlet colors = ['#5793f3', '#d14a61', '#675bba'];\r\n\t\t\tlet option = {\r\n\t\t\t\ttooltip: {\r\n\t\t\t\t\ttrigger: 'axis',\r\n\t\t\t\t\taxisPointer: {\r\n\t\t\t\t\t\ttype: 'cross'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tdata: ['德育分', '智育分', '体育分']\r\n\t\t\t\t},\r\n\t\t\t\txAxis: [{\r\n\t\t\t\t\ttype: 'category',\r\n\t\t\t\t\taxisTick: {\r\n\t\t\t\t\t\talignWithLabel: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata: ['2017-2018', '2018-2019', '2019-2020']\r\n\t\t\t\t}],\r\n\t\t\t\tyAxis: [{\r\n\t\t\t\t\t\ttype: 'value',\r\n\t\t\t\t\t\tname: '德育分',\r\n\t\t\t\t\t\tmin: 15,\r\n\t\t\t\t\t\tmax: 25,\r\n\t\t\t\t\t\tinterval: 1,\r\n\t\t\t\t\t\tposition: 'right',\r\n\t\t\t\t\t\taxisLine: {\r\n\t\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\t\tcolor: colors[0]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisLabel: {\r\n\t\t\t\t\t\t\tformatter: '{value} '\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 'value',\r\n\t\t\t\t\t\tname: '智育分',\r\n\t\t\t\t\t\tmin: 60,\r\n\t\t\t\t\t\tmax: 70,\r\n\t\t\t\t\t\tinterval: 2,\r\n\t\t\t\t\t\tposition: 'right',\r\n\t\t\t\t\t\toffset: 80,\r\n\t\t\t\t\t\taxisLine: {\r\n\t\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\t\tcolor: colors[1]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisLabel: {\r\n\t\t\t\t\t\t\tformatter: '{value} '\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 'value',\r\n\t\t\t\t\t\tname: '体育分',\r\n\t\t\t\t\t\tmin: 0,\r\n\t\t\t\t\t\tmax: 5,\r\n\t\t\t\t\t\tposition: 'left',\r\n\t\t\t\t\t\taxisLine: {\r\n\t\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\t\tcolor: colors[2]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisLabel: {\r\n\t\t\t\t\t\t\tformatter: '{value}'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tinterval: 1\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tseries: [{\r\n\t\t\t\t\t\tname: '德育分',\r\n\t\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\t\tdata: [20, 21.5, 22]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '智育分',\r\n\t\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\t\tyAxisIndex: 1,\r\n\t\t\t\t\t\tdata: [62, 61.5, 62.5]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '体育分',\r\n\t\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\t\tyAxisIndex: 2,\r\n\t\t\t\t\t\tdata: [4.5, 4, 3.8]\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t};\r\n\r\n\t\t\tmyChart.setOption(option);\r\n\t\t}\r\n\r\n\r\n\t},\r\n\tcomponents: {\r\n\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.drawBlankRadar();\r\n\t\t\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tstate(newv, oldv) {\r\n\t\t\t\tif (newv.match(/^[\\u4e00-\\u9fa5]+$/)) {\r\n\t\t\t\t\tif (newv.length > 10) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\t\"sname\": newv\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$http.post(\"stuAnalysis/searchadv\", this.$qs.stringify(data))\r\n\t\t\t\t\t\t.then(({\r\n\t\t\t\t\t\t\tdata\r\n\t\t\t\t\t\t}) => {\r\n\t\t\t\t\t\t\tthis.stuadvices = data;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\tif (err.response.status != 404) {\r\n\t\t\t\t\t\t\t\talert(this.$errmsg(err));\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tflag(n) {\r\n\t\t\t\tif (n == 3) {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage: '保存成功！',\r\n\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped=\"scoped\">\r\n\t.el-main,\r\n\t.el-aside {\r\n\t\tmargin: 10px;\r\n\t\tbackground-color: #E9EEF3;\r\n\t\tcolor: #333;\r\n\t\ttext-align: center;\r\n\t\theight: 500px;\r\n\r\n\t}\r\n\r\n\t.search {\r\n\t\theight: 100px;\r\n\t}\r\n\r\n\t.el-form-item {\r\n\t\tmargin: 10px;\r\n\t}\r\n\r\n\t.text {\r\n\t\tfont-size: 14px;\r\n\t}\r\n\r\n\t.item {\r\n\t\tmargin-bottom: 18px;\r\n\t}\r\n\r\n\t.clearfix:before,\r\n\t.clearfix:after {\r\n\t\tdisplay: table;\r\n\t\tcontent: \"\";\r\n\t}\r\n\r\n\t.clearfix:after {\r\n\t\tclear: both\r\n\t}\r\n\r\n\t.box-card {\r\n\t\theight: 99.5%;\r\n\t\toverflow-y: scroll;\r\n\t}\r\n\r\n\r\n\r\n\t.my-autocomplete li {\r\n\t\tline-height: normal;\r\n\t\tpadding: 7px;\r\n\t}\r\n\r\n\t.name {\r\n\t\ttext-overflow: ellipsis;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.addr {\r\n\t\tfont-size: 8px;\r\n\t\tcolor: #b4b4b4;\r\n\t}\r\n\r\n\t.highlighted .addr {\r\n\t\tcolor: #ddd;\r\n\t}\r\n\r\n\t.clearfix {\r\n\t\tfont-size: 14px;\r\n\t}\r\n\r\n\t.clearfix:before,\r\n\t.clearfix:after {\r\n\t\tdisplay: table;\r\n\t\tcontent: \"\";\r\n\t}\r\n\r\n\t.clearfix:after {\r\n\t\tclear: both\r\n\t}\r\n\r\n\t.el-card {\r\n\t\tfont-size: 50px;\r\n\t}\r\n\t.rewardRecords .el-card{\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t.is-selected{\r\n\t        color: red\r\n\t\t\tline-height: 20px;\r\n\t        font-size: 16px;\r\n\t        margin-top: 5px;\r\n\t\t\tbackground-color: aqua;\r\n\t    }\r\n</style>\n"]}]}